<!DOCTYPE html><html lang=en><meta charset=utf-8><meta name=viewport content="width=device-width" initial-scale=1><meta http-equiv=X-UA-Compatible content="IE=edge"><link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=/images/favicons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/images/favicons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/images/favicons/favicon-16x16.png><link rel=mask-icon href=/images/favicons/safari-pinned-tab.svg color=#5bbad5><title>FAQ.</title><meta name=description content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description."><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css><link rel=canonical href=/jekyll_how_to/ ><link rel=manifest href=/manifest.json><meta name=theme-color content=#424242><script src=https://unpkg.com/lunr@0.7.1/lunr.min.js></script><script src=https://cdn.jsdelivr.net/npm/lunr-languages@1.0.0/lunr.stemmer.support.js></script><script src=https://cdn.jsdelivr.net/npm/lunr-languages@1.0.0/lunr.multi.js></script><script src=https://cdn.jsdelivr.net/npm/lunr-languages@1.0.0/lunr.ru.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js></script><style>.form-wrapper input[type=text]{width:130px;transition:width .4s ease-in-out}.form-wrapper input[type=text]:focus{width:100%}.form-wrapper{background-color:#f6f6f6;background-image:linear-gradient(top,#f6f6f6,#eae8e8);border-color:#dedede #bababa #aaa;border-style:solid;border-width:1px;border-radius:10px;box-shadow:0 3px 3px hsla(0,0%,100%,.1),0 3px 0 #bbb,0 4px 0 #aaa,0 5px 5px #444;margin:100px auto;overflow:hidden;padding:8px;width:450px}.form-wrapper #search-box{border:1px solid #ccc;box-shadow:inset 0 1px 1px #ddd,0 1px 0 #fff;border-radius:3px;color:#2e2e2e;float:left;font:16px Lucida Sans,Trebuchet MS,Tahoma,sans-serif;height:42px;padding:10px;width:320px}.form-wrapper #search-box:focus{border-color:#aaa;box-shadow:inset 0 1px 1px #bbb;outline:0}.form-wrapper #search-box:-moz-placeholder,.form-wrapper #search-box:-ms-input-placeholder,.form-wrapper #search-box::-webkit-input-placeholder{color:#999;font-weight:400}.form-wrapper #submit{background-color:#0483a0;background-image:linear-gradient(top,#31b2c3,#0483a0);border:1px solid #00748f;border-radius:3px;box-shadow:inset 0 1px 0 hsla(0,0%,100%,.3),0 1px 0 #fff;color:#fafafa;cursor:pointer;height:42px;float:right;font:15px Arial,Helvetica;padding:0;text-transform:uppercase;text-shadow:0 1px 0 rgba(0,0,0,.3);width:100px}.form-wrapper #submit:focus,.form-wrapper #submit:hover{background-color:#31b2c3;background-image:linear-gradient(top,#0483a0,#31b2c3)}.form-wrapper #submit:active{box-shadow:inset 0 1px 4px rgba(0,0,0,.5);outline:0}.form-wrapper #submit::-moz-focus-inner{border:0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,ol,p,pre,ul{margin:0;padding:0}blockquote,dl,figure,h1,h2,h3,h4,h5,h6,ol,p,pre,ul{margin-bottom:15px}img{max-width:100%;vertical-align:middle}figure>img{display:block}figcaption{font-size:17.5px}ol,ul{margin-left:30px}li>ol,li>ul{margin-bottom:0}h1,h2,h3,h4,h5,h6{font-weight:300}a{color:#0366d6;text-decoration:none}a:visited{color:#1756a9}a:hover{color:#157fef;text-decoration:none}blockquote{color:#828282;border-left:4px solid #e8e8e8;padding-left:15px;font-size:18px;letter-spacing:-1px;font-style:italic}blockquote>:last-child{margin-bottom:0}code,pre{font-size:15px;border:1px solid #e8e8e8;border-radius:3px;background-color:#eef}code{padding:1px 5px}pre{padding:8px 12px;overflow-x:auto}pre>code{border:0;padding-right:0;padding-left:0}.wrapper{max-width:1540px;margin-right:auto;margin-left:auto;padding-right:30px;padding-left:30px}@media screen and (max-width:800px){.wrapper{max-width:1170px;padding-right:15px;padding-left:15px}}.footer-col-wrapper:after,.wrapper:after{content:"";display:table;clear:both}.icon>svg{display:inline-block;width:16px;height:16px;vertical-align:middle}.icon>svg path{fill:#828282}b,strong{font-weight:700}*{box-sizing:border-box}.border{border:1px solid #e8e8e8}.jumbotron{background:url(/images/services-codelines.svg),#fafbfc;background-position:center 10%;background-size:cover;padding:10px;color:#648cdb;font-weight:700;font-size:22px;margin:10px;text-align:center;vertical-align:middle}.py-3{padding-top:3px!important;padding-bottom:3px!important}.site-header{border-top:1px solid #e8e8e8;background-color:hsla(0,0%,100%,.9);border-bottom:1px solid #e8e8e8;height:80px;position:relative;width:100%}.mx-auto{margin-right:auto!important;margin-left:auto!important}.flex-items-center{-ms-flex-align:center!important;align-items:center!important}.flex-justify-between{-ms-flex-pack:justify!important;justify-content:space-between!important}.site-nav-container{display:-ms-flexbox;display:flex;width:auto;max-width:1012px}.width-full{width:100%!important}.site-header{z-index:1;font-size:16px;background-clip:padding-box;position:fixed;top:0;left:0}.clearfix:after,.clearfix:before{display:table;content:""}.clearfix:after{clear:both}.site-title{font-size:20px;line-height:60px;letter-spacing:-1px;margin-bottom:0;float:left}.site-title,.site-title:visited{margin:5px;margin-left:10px}.site-nav{float:left;line-height:60px}.site-nav .menu-icon{display:none}.site-nav .page-link{color:#111;line-height:1.5}.site-nav .page-link:not(:first-child){margin-left:20px}@media screen and (max-width:600px){.site-nav{position:absolute;top:9px;right:30px;background-color:#fdfdfd;border:1px solid #e8e8e8;border-radius:5px;text-align:right}.site-nav .menu-icon{display:block;float:right;width:36px;height:26px;line-height:0;padding-top:10px;text-align:center}.site-nav .menu-icon>svg{width:18px;height:15px}.site-nav .menu-icon>svg path{fill:#424242}.site-nav .trigger{clear:both;display:none}.site-nav:hover .trigger{display:block;padding-bottom:5px}.site-nav .page-link{display:block;padding:5px 10px}}.site-footer{border-top:1px solid #e8e8e8;padding:30px 0}.footer-heading{font-size:18px;margin-bottom:15px}.contact-list,.social-media-list{list-style:none;margin-left:0}.footer-col-wrapper{font-size:15px;color:#828282;margin-left:-15px}.footer-col{float:left;margin-bottom:15px;padding-left:15px}.footer-col-1{width:calc(35% - 15px)}.footer-col-2{width:calc(20% - 15px)}.footer-col-3{width:calc(45% - 15px)}@media screen and (max-width:800px){.footer-col-1,.footer-col-2{width:calc(50% - 15px)}.footer-col-3{width:calc(100% - 15px)}}@media screen and (max-width:600px){.footer-col{float:none;width:calc(100% - 15px)}}.page-content{padding:30px 0;margin-top:60px}.page-heading{font-size:20px}.post-list{margin-left:0;list-style:none}.post-list>li{margin-bottom:30px}.post-meta{font-size:17.5px;color:#828282}.post-link{display:block;font-size:24px}.post-header{margin-bottom:30px}.post-title{font-size:42px;letter-spacing:-1px;line-height:1}@media screen and (max-width:800px){.post-title{font-size:36px}}.post-content{margin-bottom:30px}.post-content h2{font-size:32px}@media screen and (max-width:800px){.post-content h2{font-size:28px}}.post-content h3{font-size:26px}@media screen and (max-width:800px){.post-content h3{font-size:22px}}.post-content h4{font-size:20px}@media screen and (max-width:800px){.post-content h4{font-size:18px}}.header-link{color:#d2d2d2;font-size:18px;margin-left:5px;position:relative;opacity:.01;\-webkit-transition:opacity .2s ease-in-out .1s;\-moz-transition:opacity .2s ease-in-out .1s;\-ms-transition:opacity .2s ease-in-out .1s}h1:hover .header-link,h2:hover .header-link,h3:hover .header-link,h4:hover .header-link,h5:hover .header-link,h6:hover .header-link{opacity:1}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}table{border-collapse:collapse;border-spacing:0}header h2{margin:25px 10px;font-size:28px;text-align:center;color:#fff8dc}.container{margin:0 auto;display:table;max-width:1540px;width:100%}.container:after,.container:before{content:"";clear:both}nav.menu{background:#3678bd;position:relative;min-height:45px;height:100%;width:100%}.menu>ul>li{list-style:none;display:inline-block;color:#fff;line-height:45px}.menu>ul li a,.xs-menu li a{text-decoration:none;color:#fff;display:block;padding:0 24px}.menu>ul li a:hover{background:#444;color:#fff;transition-duration:.3s;-moz-transition-duration:.3s;-webkit-transition-duration:.3s}.active{background:#444!important}.displaynone,.xs-menu-cont{display:none}.xs-menu-cont>a{background:none repeat scroll 0 0 coral;border-radius:3px;padding:3px 6px;display:block;border-bottom:1px solid #e67248;box-shadow:0 1px 2px #e67248;-webkit-box-shadow:0 1px 2px #e67248;-moz-box-shadow:0 1px 2px #e67248}.xs-menu-cont>a:hover{cursor:pointer}.xs-menu li{color:#fff;padding:14px 30px;border-bottom:1px solid #ccc;background:coral}.xs-menu a{text-decoration:none}.mega-menu{background:none repeat scroll 0 0 #888;left:0;margin-top:-3px;position:absolute;width:100%;padding:15px;display:none;transition-duration:.9s}#menutoggle i{color:#fff;font-size:33px;margin:0;padding:0}.mm-3column:after,.mm-3column:before,.mm-6column:after,.mm-6column:before{content:"";display:table;clear:both}.mm-3column,.mm-6column{float:left;position:relative}.mm-6column{width:50%}.mm-3column{width:25%}.responsive-img{display:block;max-width:100%}.left-images{margin-right:25px}.left-categories-list,.left-images{float:left}.categories-list li{display:block;line-height:normal;margin:0;padding:5px 0}.categories-list li :hover{background:inherit!important}.left-images>p{background:none repeat scroll 0 0 coral;display:block;font-size:18px;line-height:normal;margin:0;padding:5px 14px}.categories-list span{font-size:18px;padding-bottom:5px;text-transform:uppercase}.mm-view-more{background:none repeat scroll 0 0 coral;color:#fff;display:inline!important;line-height:normal;padding:5px 8px!important;margin-top:10px}.display-on{display:block;transition-duration:.9s}.drop-down>a:after{content:"\f103";color:#fff;font-family:FontAwesome;font-style:normal;margin-left:5px}@media (max-width:600px){.menu{display:none}.xs-menu li a{padding:0}.xs-menu-cont{display:block}}.animated{animation-duration:1s;animation-fill-mode:both}@keyframes a{0%{opacity:0}to{opacity:1}}.fadeIn{animation-name:a}body{font-family:Helvetica,Arial,sans-serif;font-size:20px;line-height:1.5;font-weight:300;color:#111;background-color:#fdfdfd;-webkit-text-size-adjust:100%}</style><noscript><link rel=stylesheet href=/css/main.min.css></noscript><script>// define a d3 diagonal projection for use by the node paths later on.
var diagonal = d3.svg.diagonal()
.projection(function(d) {
    return [d.y, d.x];
});

var activeTooltip = null;

//This maps the siblings together mapping uses the ID using the blue line
var siblings = [{
    type: "straight",
    source: {
        id: "a39bfa12-6617-5e8e-9470-d26b68787e52",
        name: "Janie Norton"
    },
    target: {
        id: "522266d2-f01a-5ec0-9977-622e4cb054c0",
        name: "Helen Alvarado"
    }
},
{
    type: "straight",
    source: {
        id: "dea01728f-e542-53a6-acd0-6f43805c31a3",
        name: "Chadrlotte Martin"
    },
    target: {
        id: "4f910dbe4-b827-50be-b783-6baa3249f6ebc",
        name: "Do12anald Cox"
    }
},
{
    type: "curve",
    source: {
        id: "d384197e-2e1e-5fb2-987b-d90a5cdc3c15",
        name: "Mina Freeman"
    },
    target: {
        id: "dea01728f-e542-53a6-acd0-6f43805c31a3",
        name: "Chadrlotte Martin"
    }
},
{
    type: "curve",
    source: {
        id: "d384197e-2e1e-5fb2-987b-d90a5cdc3c15",
        name: "Mina Freeman"
    },
    target: {
        id: "4f910dbe4-b827-50be-b783-6baa3249f6ebc",
        name: "Do12anald Cox"
    }
},
{
    type: "straight",
    source: {
        id: "16c2b0cb-cd31-53be-81bd-9b088af96904",
        name: "G Morton"
    },
    target: {
        id: "06c7b0cb-cd21-53be-81bd-9b088af96904",
        name: "Nell Morton"
    }
},
{
    type: "curve",
    source: {
        id: "522266d2-f01a-5ec0-9977-622e4cb054c0"
    },
    target: {
        id: "efbd2396d-s478ad5cbc-b168-52e028452f3b"
    }
},
{
    type: "curve",
    source: {
        id: "qew Gonzales"
    },
    target: {
        id: "Helen Alvarado"
    }
}];

var data;
var svg;
var g;
var gElem;
var nodes, links;
var tree = d3.layout.tree();
var zoom;
var rootNode;

var boxWidth = 410,
    boxHeight = 100;

var containerWidth = 500;
var containerHeight = 500;

var maxScale = 100, minScale = 0.1;

var svgSize = {
  x: 500,
  y: 500
}

var startPos = {
  x: 0, 
  y: 0
};

function buildNodeHtml(d, i, classData) {
  console.log(d.font_size)
  var font_size = d.font_size ? d.font_size : "40px";
  return '<div style="width:'+(boxWidth)+'px;height:'+(boxHeight)+'px">\
        <div class="nodeObjectContent-outer ' + classData["nodeObjectContentOuterClasses"] + '" style="float:left;margin-left:0px"><div id="nodeObjectContent_' + d.id + '" class="nodeObjectContent ' + classData["nodeObjectContentClasses"] + '">\
          <div style="float:right; width:295px;"> \
            <div style="margin-right:5px;"> \
              <div style="line-height:83px;float:right; width:390px;height:100px;border-radius:5px;margin-top:5px;text-align:center;vertical-align:middele;font-size:'+font_size+';" class="treeNodeTitle"> \
                ' + d.name + ' \
              </div> \
            </div> \
          </div> \
        </div></div> \
      </div>';
}

function buildCustomHtml(d, i, classData) {
    console.log(d.font_size)
    var font_size = d.font_size ? d.font_size : "40px";
     console.log(font_size)
  return d.customHtml;
}

var nodePresets = {
  "researching": function (d, i) {
      return buildNodeHtml(d, i, {
        "nodeObjectContentOuterClasses": "bubbleOuter",
        "nodeObjectContentClasses": "bubbleNodeObject"
      });
  }, 
  "researched": function (d, i) {
      return buildNodeHtml(d, i, {
        "nodeObjectContentOuterClasses": "",
        "nodeObjectContentClasses": "goldenNodeObject"
      });
  }, 
  "available": function (d, i) {
      return buildNodeHtml(d, i, {
        "nodeObjectContentOuterClasses": "greenOuter",
        "nodeObjectContentClasses": "greenNodeObject"
      });
  }, 
  "unavailable": function (d, i) {
      return buildNodeHtml(d, i, {
        "nodeObjectContentOuterClasses": "darkOuter",
        "nodeObjectContentClasses": "darkNodeObject"
      });
  }, 
  "customHtml": function (d, i) {
      return buildCustomHtml(d, i, {});
  }
};

function zoomToBoundingBox(d) {

 // getBBox() is a native SVG element method
 //console.log(d3.select(".techtree g").node().getBBox())


        var bbox = d3.select("#treeLayers").node().getBBox();
        //console.log(tree)


       svg.transition().duration(0).attr('transform',function(d) {

   // var nodes = tree;

   // var d = $.grep(nodes, function(e){ return e.id == 'treeLayers'; })[0];


           // var proportions = Math.max(bbox.width+1000,bbox.height+1000)
            //var widthScale = containerWidth/proportions
           //var heightScale = containerHeight/proportions 
            //var scale = 0.26143790849673204;//Math.max(widthScale,heightScale);

            var scale = Math.min( containerWidth/bbox.width, containerHeight/bbox.height);
            //console.log(containerWidth, bbox.width, containerWidth/bbox.width)
            //console.log(containerHeight, bbox.height, containerHeight/bbox.height)
            var svgScale = getScale(svg);


            var currentx = d3.transform(d3.select('#treeLayers').attr("transform")).translate;
           // console.log(currentx)


           // console.log(d3.select('#treeLayers')[0].attr("width"))

            var elemWidth = bbox.width;//parseInt(d3.select('#treeLayers').attr("width"))/2;
            var elemHeight = bbox.height;//parseInt(d3.select('#treeLayers').attr("height"))/2;
            var elemX =  bbox.x;//parseInt(d3.select('#treeLayers').attr("x"),10)
            var elemY =  bbox.y;//parseInt(d3.select('#treeLayers').attr("y"),10)
            var transX = -(elemX +  elemWidth/2)*scale  + containerWidth/2;
            var transY = -(elemY +  elemHeight/2)*scale + containerHeight/2 ;
            console.log(elemX,elemY )
            zoom.scale( scale*svgScale[1] ).translate( [transX, transY] );

           return 'translate(' + transX+ ','+ transY+ ')scale('+scale*svgScale[0]+', '+scale*svgScale[1]+')' ;
        })

      // centerNode(d3.select('#treeLayers'));

       // centerNode(d3.select("#treeLayers").node());

       /* var
            centroid = [bbox.x + bbox.width/2, bbox.y + bbox.height/2],
            zoomScaleFactor = containerWidth / bbox.width,
            zoomX = -centroid[0],
            zoomY = -centroid[1];*/

        // set a transform on the parent group element
       /* d3.select('#techtree')
            .attr("transform", "scale(" + zoomScaleFactor + ")" +
                "translate(" + zoomX + "," + zoomY + ")");*/


    //var foHeight = div[0][0].getBoundingClientRect().height;
   /* var bounds = getBboxXY(d);
    console.log(bounds)
    var dx = bounds[1][0] - bounds[0][0],
      dy = bounds[1][1] - bounds[0][1],
      x = (bounds[0][0] + bounds[1][0]) / 2,
      y = (bounds[0][1] + bounds[1][1]) / 2,
      scale = Math.max(1, Math.min(8, 0.9 / Math.max(dx / containerWidth, dy / containerHeight))),
      translate = [containerWidth / 2 - scale * x, containerHeight / 2 - scale * y];*/

  /*var bounds = path.bounds(d),
      dx = bounds[1][0] - bounds[0][0],
      dy = bounds[1][1] - bounds[0][1],
      x = (bounds[0][0] + bounds[1][0]) / 2,
      y = (bounds[0][1] + bounds[1][1]) / 2,
      scale = Math.max(1, Math.min(8, 0.9 / Math.max(dx / containerWidth, dy / containerHeight))),
      translate = [containerWidth / 2 - scale * x, containerHeight / 2 - scale * y];*/

 /* svg.transition()
      .duration(750)
       .call(zoom.translate(translate).scale(scale).event); // not in d3 v4*/
      //.call( zoom.transform, d3.zoomIdentity.translate(translate[0],translate[1]).scale(scale) ); // updated for d3 v4
}

/**
This defines teh line between siblings.
**/
function sblingLine(d, i) {
    var start = nodes.filter(function (v) {

        if (d.source.id == v.id) {
            return true;
        } else {
            return false;
        }
    });
    var end = nodes.filter(function (v) {
    if(d.target.collapsed || d.source.collapsed){
      return false;
    }

        if (d.target.id == v.id) {
            return true;
        } else {
            return false;
        }
    });
    if (typeof start[0] == "undefined" || typeof end[0] == "undefined") {
      return "";
    }



    var linedata = [{
        x: start[0].x,
        y: start[0].y
    }, {
        x: end[0].x,
        y: end[0].y
    }];
    //console.log(linedata )
    /*var fun = d3.svg.line().x(function (d) {
        return d.x;
    }).y(function (d) {
        return d.y;
    }).interpolate("linear");
    return fun(linedata);*/

  var sourceX = start[0].x,
      sourceY = start[0].y + (boxWidth / 2),
      targetX = end[0].x,
      targetY = end[0].y - (boxWidth / 2);

if (d.type==="curve") {
  return diagonal({
                        source: linedata[0],
                        target: linedata[1]
                    });
}

      
 return "M" + sourceY + "," + sourceX
    + "H" + (sourceY + (targetY-sourceY)/2)
    + "V" + targetX 
    + "H" + targetY;

}

var calcLeft = function(d){
  var height = containerHeight;
  var l = d.y;
  console.log(d.y)
  if(!d.isRight){
    l = height - d.y;
  }
  return {x : d.x, y : l};
};

function getBboxXY(elem) {
  var bbox = elem.getBBox();
  var x = bbox.x-((bbox.width));
  var y = bbox.y-((bbox.height));

  return {
    x: x, 
    y: y
  };
}

function getScale(elem) {
  var scale = d3.transform(elem.attr("transform")).scale;
  return typeof scale == undefined ? [1,1] : scale;
}

// https://www.visualcinnamon.com/2016/05/animate-gradient-imitate-flow-d3.html
function createLinearGradient(elem, id, colours, animateSpeed) {
    var gradient = elem.append('linearGradient')
      .attr('id', id)
      .attr("spreadMethod", "reflect")
      .attr("gradientUnits", "userSpaceOnUse")
      .attr("x1","0%")
      .attr("y1","0%")
      .attr("x2","100%")
      .attr("y2","0%");
  gradient.selectAll(".stop")
  .data(colours)
  .enter().append("stop")
  .attr("offset", function(d,i) { return i/(colours.length-1); })   
  .attr("stop-color", function(d) { return d; });

  if (animateSpeed) {
    gradient.append("animate")
      .attr("attributeName","x1")
      .attr("values","0%;100%")
      .attr("dur", animateSpeed + "s")
      .attr("repeatCount","indefinite");

    gradient.append("animate")
      .attr("attributeName","x2")
      .attr("values","100%;200%")
      .attr("dur", animateSpeed + "s")
      .attr("repeatCount","indefinite");
  }
}

function centerNode(source, scale, width, height, duration) {
    if (!source) return;
    scale = typeof scale === "undefined" ? getScale(svg) : scale;
    width = typeof width === "undefined" ? parseInt(svg.attr("width"),10) : containerWidth;
    height = typeof height === "undefined" ? parseInt(svg.attr("height"),10) : containerHeight;
    duration = typeof duration === "undefined" ? 1000 : duration;

    x = -source.y * scale[1] + width/2;
    y = -source.x * scale[1] + height/2;

    svg.transition()
        .duration(duration)
        .attr("transform", "translate(" + x + "," + y + ") scale(" + scale[0] + "," + scale[1] + ")");
    zoom.scale( scale[1] ).translate( [x, y] );
}

function createTechTree(width, height, dataFile) {
    containerWidth = width;
    containerHeight = height;
    //console.log($("#techTreeContainer").data("something"))
    var bWidth = typeof $("#techTreeContainer").data("boxwidth") === 'undefined' ? boxWidth : parseInt($("#techTreeContainer").data("boxwidth"), 10);
    var bHeight = typeof $("#techTreeContainer").data("boxheight") === 'undefined' ? boxHeight : parseInt($("#techTreeContainer").data("boxheight"), 10);
    boxWidth = bWidth;
    boxHeight = bHeight;

  // Setup zoom and pan
  zoom = d3.behavior.zoom()
  .scaleExtent([minScale, maxScale])
  .on('zoom', function(){
    var wcanvas = $(".techtree").width();
    var hcanvas = $(".techtree").height();
    var h = d3.select(".techtree g").node().getBBox().height*d3.event.scale;
    var w = d3.select(".techtree g").node().getBBox().width*d3.event.scale;
    var padding = 0;
    var translation = d3.event.translate;
    var tbound = -(h-hcanvas)-padding;
    var bbound = padding;
    var lbound = -(w-wcanvas)-padding;
    var rbound = padding;
    var space = 100;

    // limit pan area
    var tx = Math.min(100000, Math.max(d3.event.translate[0], -100000)),
        ty = Math.min(100000, Math.max(d3.event.translate[1], -100000));

    svg.attr("transform", "translate(" + tx + "," + ty + ") scale(" + d3.event.scale + ")");
    zoom.translate([tx, ty]);
    console.log(d3.event.scale)
    zoom.scale(d3.event.scale);

    var bbox = gElem.getBBox();

      var x = bbox.x-((bbox.width));
      var y = bbox.y-((bbox.height));
  })
  // Offset so that first pan and zoom does not jump back to the origin
  .translate([startPos.x, startPos.y])
  ;

svgSize.x = containerWidth;
svgSize.y = containerHeight;

var div = d3.select("#techTreeContainer").append("div");
div.html('<div style="position:absolute;z-index:9999;width:'+svgSize.x+'px;height:'+svgSize.y+'px;" class="techTreeContainerIcons"> \
  <div class="iconsRight"> \
    <button class="techTreeContainerIcon button_basic-small _pin-bottom" id="zoomPlus"> + </button> \
    <button class="techTreeContainerIcon button_basic-small _pin-bottom" id="zoomMinus"> - </button> \
  </div> \
  </div>');

d3.select("#techTreeContainer").on('mouseover', function() {
  $('.techTreeContainerIcons').show();
}).on('mouseout', function() {
  $('.techTreeContainerIcons').hide();
});

function zoomDelta(delta, time) {
  var svgScale = zoom.scale() + delta;
  time = typeof time === 'undefined' ? 0 : time;
  if (svgScale < minScale || svgScale > maxScale) {
    return;
  }
  var currentTranslate = d3.transform(svg.attr("transform")).translate;

  zoom.scale( parseFloat(svgScale) ).translate(currentTranslate);;
  svg.transition()
      .duration(time)
      .attr("transform", "translate(" + currentTranslate[0] + "," + currentTranslate[1] + ") scale(" + svgScale + "," + svgScale + ")");
}

d3.selectAll('#zoomPlus').on('click', function() {
  zoomDelta(0.03);
}); 

d3.selectAll('#zoomMinus').on('click', function() {
  zoomDelta(-0.03);
}); 

svg = d3.select("#techTreeContainer").append("svg")
  .attr('class', 'techtree')
  .attr('id', 'techtree')
  .attr('overflow', 'scroll')
  .call(zoom)
  .attr('width', svgSize.x)
  .attr('height', svgSize.y)
  .append('g')
  .attr('width', svgSize.x)
  .attr('height', svgSize.y)
  
  // Left padding of tree so that the whole root node is on the screen.
  // TODO: find a better way
  .attr("transform", "translate("+startPos.x+","+startPos.y+") scale(" + 1 + ")")
  .attr('overflow', 'scroll')
;

g = svg.select("g");
gElem = svg.selectAll("g")[0].parentNode;
  
  // Using nodeSize we are able to control
  // the separation between nodes. If we used
  // the size parameter instead then d3 would
  // calculate the separation dynamically to fill
  // the available space.
  tree.nodeSize([boxHeight* 3.5, boxWidth  * 2.5])
  
  // By default, cousins are drawn further apart than siblings.
  // By returning the same value in all cases, we draw cousins
  // the same distance apart as siblings.
  .separation(function(){
    return 0.5;
  })
  
  // Tell d3 what the child nodes are. Remember, we're drawing
  // a tree so the ancestors are child nodes.
  .children(function(treeNode){
    
    // If the treeNode is collapsed then tell d3
    // that they don't have any ancestors.
    if(treeNode.collapsed){
      return;
    } else {
      return treeNode._parents;
    }
  });

  if (typeof dataFile !== "undefined") {
    d3.json(dataFile, function(error, json){
    
      if(error) {
        return console.error(error);
      }
      
      data = json;


      nodes = tree.nodes(data);
      links = tree.links(nodes);
      startFocusNode = $.grep(nodes, function(e){ return e.start_focus; })[0];
      
      drawTechtree();

      //centerNode(startFocusNode);
      zoomToBoundingBox(startFocusNode);
        
    });
  } else {
    
    data = treeDataJson;


    nodes = tree.nodes(data);
    links = tree.links(nodes);
    startFocusNode = $.grep(nodes, function(e){ return e.start_focus; })[0];
    
    drawTechtree();

    //centerNode(startFocusNode);
    zoomToBoundingBox(startFocusNode);
  }

}

function drawTechtree(){
d3.select("#treeLayers").remove();

  nodes = tree.nodes(data);
  links = tree.links(nodes);

    links = links.filter(function (d) {
        
        if (d.target.deleted || d.source.deleted) {
            console.log(d)
        } else {
            return d;
        };
    });


    nodes = nodes.filter(function (d) {
        
        if (d.deleted) {
            console.log(d)
        } else {
            return d;
        };
    });


  var layers = svg.append('g')
    .attr("id", "treeLayers")
    .attr("class", "treeLayers");

  var layer1 = layers.append('g');
  var layer2 = layers.append('g');
  var layer3 = layers.append('g');

  // Update nodes    
  var node = layer2.selectAll("g.treeNode")
      
      // The function we are passing provides d3 with an id
      // so that it can track when data is being added and removed.
      // This is not necessary if the tree will only be drawn once
      // as in the basic example.
      .data(nodes, function(treeNode){ return treeNode.id; });
      
  // Add any new nodes
  var nodeEnter = node.enter().append("g")
      .attr("class", "treeNode")
      ;

  // Update the position of both old and new nodes
  node.attr("transform", function(d) { 
    if (d.fixed_x && d.fixed_y) {
      d.x = d.fixed_x;
      d.y = d.fixed_y;
      return "translate(" + d.y + "," + d.x + ")"; 
    }
    return "translate(" + d.y + "," + d.x + ")"; 
  });

  var svgDefs = nodeEnter.append('defs');

  var markerTypes = [
    { id: 0, name: 'circle', path: 'M 0, 0  m -5, 0  a 5,5 0 1,0 10,0  a 5,5 0 1,0 -10,0', viewbox: '-6 -6 12 12', class:"arrowHeadGold" }
  , { id: 1, name: 'square', path: 'M 0,0 m -5,-5 L 5,-5 L 5,5 L -5,5 Z', viewbox: '-5 -5 10 10', class:"arrowHeadGold" }
  , { id: 2, name: 'arrow', path: 'M 0,0 m -5,-5 L 5,0 L -5,5 Z', viewbox: '-5 -5 10 10', class:"arrowHeadGold" }
  , { id: 2, name: 'stub', path: 'M 0,0 m -1,-5 L 1,-5 L 1,5 L -1,5 Z', viewbox: '-1 -5 2 10', class:"arrowHeadGold" }
  ]


    svgDefs.selectAll("marker").data(markerTypes).enter().append('svg:marker')
            .attr({
                "id": function(d){ return 'marker_' + d.name},
                'markerUnits': 'strokeWidth',
                'viewBox': function(d){ return d.viewbox },
                "refX":0,
                "refY":0,
                "markerWidth":5,
                "markerHeight":5,
                'xoverflow':'visible',
                "orient":"auto"
            })
            .append("path")
                .attr('d', function(d){ return d.path })
                .attr("class", function(d){ return d.class });

    /*svgDefs.append("marker")
            .attr({
                "id":"arrow-start",
                "viewBox":"0 -5 10 10",
                "refX":5,
                "refY":0,
                "markerWidth":4,
                "markerHeight":4,
                "orient":"auto"
            })
            .append("path")
                .attr("d", "M0,-5L10,0L0,5")
                .attr("class","arrowHead");*/

  createLinearGradient(svgDefs, 'goldGradient', ["#ebd197", "#b48811", "#ebd197"], 0);
  createLinearGradient(svgDefs, 'goldGradientAnim', ["#ebd197", "#b48811", "#ebd197"], 1);
  createLinearGradient(svgDefs, 'bubbleGradient', ["#46b5f4", "#2da5e5", "#46b5f4"], 0);
  createLinearGradient(svgDefs, 'bubbleGradientAnim', ["#46b5f4", "#2da5e5", "#46b5f4"], 1);
  createLinearGradient(svgDefs, 'iconGradient', ["#FFF", "#CCC"], false);

nodeEnter.append("foreignObject")
  //  .style("border", "1px solid #444")
  .attr({
    x: -(boxWidth/2),
    y: -(boxHeight/2),
    width: boxWidth,
    height: boxHeight
  })
  .attr("display", function (d) {
    if (d.hiddenObject) {
        return "none"
    } else {
        return ""
    };
  })
  .attr("class", function(d, i) { return "nodeObject " + (d.url ? " cpointer" : ""); })// "nodeObject cpointer")
  .attr("id", function(d, i) { return "nodeObject_" + d.id; })
  .append("xhtml:body")
  .style("font", "14px 'Helvetica Neue'")
  .html(function(d, i) { 
      var preset = d.preset ? d.preset : "researched";
      return nodePresets[preset](d,i); 
  });


    


  d3.selectAll('.nodeObject').on('click', function() {
    var id = this.id.replace('nodeObject_','');
    var nodes = tree.nodes(data);
    var d = $.grep(nodes, function(e){ return e.id == id; })[0];
    if (!d.url) {
        return;
    }
    window.location.href = d.url;
  }); 

  d3.selectAll('.nodeObject').on('mousemove', function() {

    if (activeTooltip==null) {
        return;
    }
   /*activeTooltip = {
        'mouseoverTime':Date.now(),
        'elem': d
    };*/
    var elapsedTime = Date.now() - activeTooltip.mouseoverTime;
    var delaySecs = 1;
    if (elapsedTime/1000.0 < delaySecs) {
        return;
    }

    var id = this.id.replace('nodeObject_','');
    var nodes = tree.nodes(data);
    var d = $.grep(nodes, function(e){ return e.id == id; })[0];

    var x = d.fixed_x ? d.fixed_x : d.x;
    var y = d.fixed_y ? d.fixed_y : d.y;

    layer3.selectAll('.svg-tooltip').remove();
    layer3.selectAll('polygon').remove();

    var scale = getScale(svg);
    var foWidth = 300;

    var leftPixelSpace = d3.event.x;
    var rightPixelSpace = containerWidth - leftPixelSpace; 
    var topPixelSpace = d3.event.y;
    var bottomPixelSpace = containerHeight - topPixelSpace;

    if (!d.tooltip) {
        return;
    }

    var t = 50, k = 15;
    var tip = {'w': (3/4 * t) , 'h': k };

    var tooltopOffset = {
      x: boxWidth/32,
      y: boxHeight/2
    }

    var offset = {
      x:0,
      y:0
    };

    /*if (leftPixelSpace > rightPixelSpace) {
      offset.y = foWidth;
    } else {
      offset.y = 0;
    }*/

    var mouseToTooltipPos = {
      x: x - boxHeight/2 + (d3.mouse(this)[1]) ,
      y: y - boxWidth/2 + (d3.mouse(this)[0]) 
    };

    var anchor = {'w': mouseToTooltipPos.y, 'h': mouseToTooltipPos.x };

    var fo = layer3.append('foreignObject')
        .attr({
            'width': foWidth,
            'class': 'svg-tooltip',
            'transform': 'translate(' +( mouseToTooltipPos.y - offset.y )+ ',' +( mouseToTooltipPos.x - offset.x) + ') scale(' + 1/scale[0] + ',' +  1/scale[0] + ')'
        });
    var div = fo.append('xhtml:div')
        .append('div')
        .attr({
            'class': 'tooltip'
        });
    div.html('<div style="background: linear-gradient(to bottom right, #ebd197, #b48811);">' + d.tooltip + '.</div>');

    var foHeight = div[0][0].getBoundingClientRect().height;
    /*var foHeight = div[0][0].getBoundingClientRect().height / scale[0];
    if (topPixelSpace > bottomPixelSpace) {
      offset.x = foHeight;
    } else {
      offset.x = 0;
    }*/

    /*fo.attr({
      'x': mouseToTooltipPos.y - offset.y,
      'y': mouseToTooltipPos.x - offset.x,
    });

    fo.attr({
        'height': foHeight
    });*/
    
    layer3.insert('polygon', '.svg-tooltip')
    .attr({
         'points': "0,0 0," + foHeight + " " + foWidth + "," + foHeight + " " + foWidth + ",0 ",
        'height': foHeight + tip.h,
        'width': foWidth,
        'fill': 'rgba(0,0,0,0.3)',
        'transform': 'translate(' +( mouseToTooltipPos.y - offset.y )+ ',' +( mouseToTooltipPos.x - offset.x) + ') scale(' + 1/scale[0] + ',' +  1/scale[0] + ')'
    });
  })
  .on('mouseover', function(d) {
    $("#techTreeContainerHint").html(d.hint);
    $("#techTreeContainerHint").css("display","block");

    activeTooltip = {
        'mouseoverTime':Date.now(),
        'elem': d
    };

    
  })
  .on('mouseout', function() {
    $("#techTreeContainerHint").html("");
    $("#techTreeContainerHint").css("display","none");

    activeTooltip = null;
      layer3.selectAll('.svg-tooltip').remove();
      layer3.selectAll('polygon').remove();
  });
  
  // Remove nodes we aren't showing anymore
  node.exit().remove();

  //First draw sibling line with blue line
  var sibl = layer1.selectAll(".sibling").data(siblings);

  sibl.enter().append("path").attr({
                    "class":"sibling",
                    //"marker-end":"url(#" + 'marker_arrow' + ")",
                    //"marker-start":"url(#" + 'marker_circle' + ")",
                });

  sibl.exit().remove();

  sibl.attr("d", sblingLine);

  // Update links
  var link = layer1.selectAll("path.link")

  
      // The function we are passing provides d3 with an id
      // so that it can track when data is being added and removed.
      // This is not necessary if the tree will only be drawn once
      // as in the basic example.
      .data(links, function(d){ return d.target.id; });
  
  // Add new links    
  link.enter().append("path").attr({
                    "marker-end": function(d){ return "url(#" + 'marker_'+ d.target.input_arrow + ")"; },
                    "marker-start": function(d){ return "url(#" + 'marker_'+ d.source.output_arrow + ")"; },
                })
      .attr("class", function(d) { 
        var inputClassLink = d.target.inputClassLink ? d.target.inputClassLink : "";
        var outputClassLink = d.source.outputClassLink ? d.target.outputClassLink : "";
        return "link " + inputClassLink + " " + outputClassLink; 
      })
      ;
/*
    function arcPath(leftHand, d) {
        var start = leftHand ? d.source : d.target,
            end = leftHand ? d.target : d.source,
            dx = end.x - start.x,
            dy = end.y - start.y,
            dr = Math.sqrt(dx * dx + dy * dy),
            sweep = leftHand ? 0 : 1;
        return "M" + start.x + "," + start.y + "A" + dr + "," + dr + " 0 0," + sweep + " " + end.x + "," + end.y;
    }

var textPath = link.append("path")
    .attr("id", function(d) { return d.source.id + "_" + d.target.id; })
    .attr("class", "textpath").attr("d", function(d) {
        return arcPath(d.source.x < d.target.x, d);
      });

var path_label = svg.append("g").selectAll(".path_label")
    .data(links)
  .enter().append("text")
    .attr("class", "path_label")
    .append("svg:textPath")
      .attr("startOffset", "50%")
      .attr("text-anchor", "middle")
      .attr("xlink:href", function(d) { return "#" + d.source.id + "_" + d.target.id; })
      .style("fill", "#000")
      .style("font-family", "Arial")
      .text(function(d) { return d.id; });*/

svg.selectAll("text").data(links).enter()
   .append("text")
   .attr("x", function(d) { 
        var sourceX = d.source.x,
              sourceY = d.source.y + (boxWidth / 2),
              targetX = d.target.x,
              targetY = d.target.y - (boxWidth / 2);
        return sourceY + (targetY -sourceY)/2; 
    })
   .attr("y", function(d) { 
        var sourceX = d.source.x,
              sourceY = d.source.y + (boxWidth / 2),
              targetX = d.target.x,
              targetY = d.target.y - (boxWidth / 2);
        return sourceX + (targetX - sourceX)/2; 
   })
   .text(function(d) { return d.target.label; })
   /*.attr('transform',function(d,i){
            if (d.target.x<d.source.x){
                bbox = this.getBBox();
                rx = bbox.x+bbox.width/2;
                ry = bbox.y+bbox.height/2;
                return 'rotate(0 '+rx+' '+ry+')';
                }
            else {
                return 'rotate(0 180 180)';
                }
        })*/;

/*
 var edgelabels = svg.selectAll(".edgelabel")
        .data(links)
        .enter()
        .append('text')
        .style("pointer-events", "none")
        .attr({'class':'edgelabel',
               'id':function(d,i){return 'edgelabel'+i},
               'dx':80,
               'dy':0,
               'font-size':10,
               'fill':'#aaa'});    

        edgelabels.attr('transform',function(d,i){
            if (d.target.x<d.source.x){
                bbox = this.getBBox();
                rx = bbox.x+bbox.width/2;
                ry = bbox.y+bbox.height/2;
                return 'rotate(180 '+rx+' '+ry+')';
                }
            else {
                return 'rotate(0)';
                }
        });
*/

  layer1.selectAll("path").append('linearGradient');
  layer1.selectAll("path").append('stop')
      .attr('class', 'stop-left')
      .attr('offset', '0');
  layer1.selectAll("path").append('stop')
      .attr('class', 'stop-right')
      .attr('offset', '1');
  
  // Remove any links we don't need anymore
  // if part of the tree was collapsed
  link.exit().remove();
  
  // Update the links positions (old and new)
  link.attr("d", elbow);

}

/**
 * Collapse treeNode (hide their ancestors). We recursively
 * collapse the ancestors so that when the treeNode is
 * expanded it will only reveal one generation. If we don't
 * recursively collapse the ancestors then when
 * the treeNode is clicked on again to expand, all ancestors
 * that were previously showing will be shown again.
 * If you want that behavior then just remove the recursion
 * by removing the if block.
 */
function collapse(treeNode, sourceX, sourceY){
  treeNode.collapsed = true;
}
    
/**
 * Custom path function that creates straight connecting lines.
 * Calculate start and end position of links.
 * Instead of drawing to the center of the node,
 * draw to the border of the treeNode profile box.
 * That way drawing order doesn't matter. In other
 * words, if we draw to the center of the node
 * then we have to draw the links first and the
 * draw the boxes on top of them.
 */
function elbow(d) {

  if (d.target.no_target_parent || d.source.no_child_parent) {

      return "M0,0L0,0";
  }

var sourceX = d.source.x,
      sourceY = d.source.y ,
      targetX = d.target.x,
      targetY = d.target.y;


if (d.target.input_type==="curve" || d.source.output_type==="curve") {
  return diagonal({
                        source: {
                            x: sourceX,
                            y: sourceY
                        },
                        target: {
                            x: targetX,
                            y: targetY
                        },
                    });
}


  return "M" + sourceY + "," + sourceX
    + "H" + (sourceY + (targetY-sourceY)/2)
    + "V" + targetX 
    + "H" + targetY;
}</script><script>$( document ).ready(function() {

    $(".post-content h1, h2, h3, h4, h5, h6").each(function(i, el) {
      var $el, icon, id;
      $el = $(el);
      id = $el.attr('id');
      icon = '<i class="fa fa-link"></i>';
      if (id) {
        //console.log(id)
        $el.append($("<a />").addClass("header-link").attr("href", "#" + id).html(icon));
      }
    });

    if(!$('#techTreeContainer').length) return;

    $('#techTreeContainer').append("<div id='techTreeContainerHint'></div>");

    var update;
    update = function() {
      requestAnimationFrame(update);
    };
    requestAnimationFrame(update);

    function redraw_techtree() {
      var width = containerWidth;
      var height = containerHeight;
      svgSize.x = containerWidth;
      svgSize.y = containerHeight;

      d3.select("#techTreeContainer").select("svg").attr("width", width)
        .attr("height", height);
      g.attr("width", width)
        .attr("height", height);

      drawTechtree();
    }

    window.addEventListener("resize", redraw_techtree);

    createTechTree($("#techTreeContainer").parent().width(), 500, $("#techTreeContainer").attr("data-id"));
});</script><header class="site-header py-3 clearfix width-full border-bottom"><div class=wrapper><div class="site-nav-container flex-justify-between flex-items-center mx-auto"><a class="header-logo-invertocat d-flex flex-items-center float-left" href=/ ><img src=/images/logo.png alt=logo title=logo width=40px><h2 style=color:#3678bd>FlexTool</h2></a><div class=left><a class=site-title href=/search><i class="fa fa-search"></i></a> <a class=site-title href=/about><i class="fa fa-info-circle"></i></a> <a class=site-title href=/category><i class="fa fa-tags"></i></a></div></div></div></header><div class=page-content><div class="wrapper left"><div class=container><nav class=menu><ul><li class=drop-down><a href=#>Getting Started</a><div class="mega-menu fadeIn animated"><div class=mm-3column><span class=categories-list><ul><span>Introduction</span><li><a class=mm-view-more href=/about/ >About</a><li><a class=mm-view-more href=/community/ >Community</a><li><a class=mm-view-more href=/license/ >License</a><li><a class=mm-view-more href=/release_notes/ >Release Notes</a><li><a class=mm-view-more href=/talks/ >Talks and Publications</a></ul></span></div><div class=mm-3column><span class=categories-list><ul><span>Getting Started</span><li><a class=mm-view-more href=/download/ >Download and install</a><li><a class=mm-view-more href=/tutorial/ >Tutorial</a><li><a class=mm-view-more href=/test_suite/ >Test Suite</a><li><a class=mm-view-more href=/bug_report/ >Bug Reporting</a><li><a class=mm-view-more href=/faq/ >FAQ</a></ul></span></div><div class=mm-3column><span class=categories-list><ul><span>Usage</span><li><a class=mm-view-more href=/building_projects/ >Building Projects</a><li><a class=mm-view-more href=/adding_plugins/ >Adding new plugins</a></ul></span></div></div><li><a href=/plugins/ >Plugins</a><li><a href=/api_reference/ >API Reference</a><li><a href=/tools_reference/ >Tools Reference</a><li><a href=/developer_docs/ >Developer docs</a><li><a target=_blank href=https://github.com/blockspacer/flextool/issues>Github issues</a></ul></nav></div></div><div class=wrapper><div class=post><div class="jumbotron border"><header>FAQ.</header></div><article class=post-content><h2 id=you-can-find-sources-of-that-site-on-github>You can find sources of that site on github</h2><p>https://github.com/blockspacer/flex_docs<h1 id=checked-versions>checked versions:</h1><ul><li>npm 5.5.1<li>node 8.9.1</ul><h1 id=setup>Setup</h1><p>checked on ubuntu 18.04<p><code>sudo apt autoremove<br>sudo apt update<br>sudo apt -y upgrade</code><figure class=highlight><pre><code class=language-bash data-lang=bash><span class=nb>sudo </span>apt-get <span class=nb>install </span>ruby ruby-dev ruby-bundler
<span class=nb>sudo </span>gem <span class=nb>install </span>bundler
npm <span class=nb>install</span> <span class=nt>--global</span> gulp-cli</code></pre></figure><figure class=highlight><pre><code class=language-bash data-lang=bash><span class=nb>rm</span> <span class=nt>-rf</span> node_modules
npm cache clean
bundle <span class=nb>install
</span>npm <span class=nb>install</span> <span class=nt>--save-dev</span> babel-core babel-cli babel-preset-es2015
npm <span class=nb>install</span> <span class=nt>--save-dev</span> gulp
npm <span class=nb>install</span></code></pre></figure><figure class=highlight><pre><code class=language-bash data-lang=bash>npm run start</code></pre></figure><figure class=highlight><pre><code class=language-bash data-lang=bash><span class=nb>sudo chmod </span>777 <span class=nb>.</span> <span class=nt>-R</span>
<span class=nb>sudo chown</span> <span class=nv>$USER</span>:<span class=nv>$USER</span> <span class=nt>-R</span> .</code></pre></figure><h1 id=how-to-add-new-article>How to add new article</h1><p><strong>see _docs</strong>. permalink: … title: “…” date: … categories: …<p>Markdown editor <a href=https://chrome.google.com/webstore/detail/jekyll-editor/dfdkgbhjmllemfblfoohhehdigokocme>jekyll-editor for chrome</a> <a href=https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet>Cheatsheet</a><p>Use two spaces for newline!<p><strong>demo: JSON chart:</strong><figure class=highlight><pre><code class=language-js data-lang=js><span class=o>&lt;</span><span class=nx>script</span><span class=o>&gt;</span>
<span class=nx>treeDataJson</span> <span class=o>=</span> <span class=nx>JSON</span><span class=p>.</span><span class=nx>parse</span><span class=p>(</span><span class=s2>`{% include data/dpss.json %}`</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>siblings</span> <span class=o>=</span> <span class=p>[{</span>
    <span class=na>type</span><span class=p>:</span> <span class=dl>"</span><span class=s2>curve</span><span class=dl>"</span><span class=p>,</span>
    <span class=na>source</span><span class=p>:</span> <span class=p>{</span>
        <span class=na>id</span><span class=p>:</span> <span class=dl>"</span><span class=s2>Bridge</span><span class=dl>"</span><span class=p>,</span>
        <span class=na>name</span><span class=p>:</span> <span class=dl>"</span><span class=s2>Bridge</span><span class=dl>"</span>
    <span class=p>},</span>
    <span class=na>target</span><span class=p>:</span> <span class=p>{</span>
        <span class=na>id</span><span class=p>:</span> <span class=dl>"</span><span class=s2>sadsad</span><span class=dl>"</span><span class=p>,</span>
        <span class=na>name</span><span class=p>:</span> <span class=dl>"</span><span class=s2>sdaasdsda</span><span class=dl>"</span>
    <span class=p>}</span>
<span class=p>}];</span>
<span class=o>&lt;</span><span class=sr>/script</span><span class=err>&gt;
</span><span class=o>&lt;</span><span class=nx>div</span> <span class=nx>id</span><span class=o>=</span><span class=dl>"</span><span class=s2>techTreeContainer</span><span class=dl>"</span><span class=o>&gt;&lt;</span><span class=sr>/div&gt;</span></code></pre></figure><p><strong>demo: highlight &amp; endhighlight:</strong><figure class=highlight><pre><code class=language-html data-lang=html><span class=nt>&lt;nospell&gt;</span>
{% highlight html %}
<span class=nt>&lt;div</span> <span class=na>id=</span><span class=s>"techTreeContainer"</span><span class=nt>&gt;&lt;/div&gt;</span>
{% endhighlight %}
<span class=nt>&lt;/nospell&gt;</span></code></pre></figure><p><strong>Важно</strong>: demo: <strong><em>nospell</em></strong><figure class=highlight><pre><code class=language-bash data-lang=bash>&lt;nospell&gt;&lt;p&gt;&lt;code&gt;sudo apt autoremove&lt;br/&gt;
<span class=nb>sudo </span>apt update&lt;br/&gt;
<span class=nb>sudo </span>apt <span class=nt>-y</span> upgrade
&lt;/code&gt;&lt;/p&gt;&lt;/nospell&gt;</code></pre></figure><p>see: <a href=https://github.com/jneen/rouge/wiki/List-of-supported-languages-and-lexers>https://github.com/jneen/rouge/wiki/List-of-supported-languages-and-lexers</a><p><strong>demo: raw &amp; endraw</strong> see <a href=https://gist.github.com/smutnyleszek/9803727#raw>Jekyll &amp; Liquid Cheatsheet</a><p><strong>demo: details &amp; summary</strong><details><summary>demo...</summary><p><figure class=highlight><pre><code class=language-txt data-lang=txt>{"disks_stat_subs_gb": 0, "ifaces": 2, "screens": 1, "startup_ts": 1510300260, "resolutions": {"4MP": 1}, "disks_stat_priv_gb": 0, "capacity": 0, "disks_stat_main_days": 0, "bitrates": {"6000": 1, "-1": 0}, "write_bitrates": [0], "servicepack_level": "MiniNVR%205520/3039", "os_version": "unknown", "nvr_type": "unknown", "grabberpack_level": "unknown", "users": 0, "models": {"AC-D7141IR1": 1, "Mini%20NVR%20PoE": 1}, "iscsi_capacity": 0, "disks_stat_subs_days": 0, "scripts": 0, "iscsi_disks": 0, "channels": 1, "disks": 0, "modules": {"none": 1, "FacSystem": 0, "LprGeneral": 0, "Orion": 0, "PosFolder2": 0, "PosFolder": 0}, "disks_stat_priv_days": 0, "platform_name": "linux%20unknown", "license_type": "unknown", "disks_stat_main_gb": 0, "operation_mode": "linux_nvr"}</code></pre></figure><p></details><p><strong>demo: editor</strong><figure class=highlight><pre><code class=language-html data-lang=html><span class=nt>&lt;div</span> <span class=na>class=</span><span class=s>"mxgraph"</span> <span class=na>style=</span><span class=s>"max-width:100%;border:1px solid transparent;"</span> <span class=na>data-mxgraph=</span><span class=s>"{&amp;quot;highlight&amp;quot;:&amp;quot;#0000ff&amp;quot;,&amp;quot;nav&amp;quot;:true,&amp;quot;resize&amp;quot;:true,&amp;quot;toolbar&amp;quot;:&amp;quot;zoom layers lightbox&amp;quot;,&amp;quot;edit&amp;quot;:&amp;quot;_blank&amp;quot;,&amp;quot;xml&amp;quot;:&amp;quot;&amp;lt;mxfile userAgent=\&amp;quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/62.0.3202.89 Chrome/62.0.3202.89 Safari/537.36\&amp;quot; version=\&amp;quot;8.4.7\&amp;quot; editor=\&amp;quot;www.draw.io\&amp;quot;&amp;gt;&amp;lt;diagram id=\&amp;quot;787718bf-61a2-830c-1549-43c902e07263\&amp;quot; name=\&amp;quot;Page-1\&amp;quot;&amp;gt;zZbbjpswEIafhttVMJsELpvsoRettFKqdnu1cmAWrBqMjAmkT98hNmd2SSXUbqQQ+/fYHj7PTGw5+7h8lDSNvooAuEVWQWk5dxYhtu1u8KdSzlrZbG0thJIFxqgVDuw3GHFl1JwFkPUMlRBcsbQv+iJJwFc9jUopir7Zq+D9XVMawkg4+JSP1R8sUJFWXbJt9c/Awqje2d54euRI/V+hFHli9rOI83r56OGY1muZF80iGoiiIzn3lrOXQijdiss98IptjU3Pe3hjtPFbQqKumUD0hBPlOdQeX/xS55rF5W2gsl9Zzq6ImIJDSv1qtMDTRy1SMceejU1Oj8B3DYS94ELiUCIStN+NvTMOn0AqKDuS8fYRRAxKntHEjHoGnAksu+4X7THZNdyoc0Qbo1ETGWGzcksHGwbQNCznb2DZHwDW+vY/0lrP0/JzeWpgQRJ8qlIXuz6nWcb8Pi3EIM/PJgwvnZ9V52ZddUumnms7bLcjb1LMRC596GWBojIE1TtrCHqFYky6Q3I9AbLWJHCq2KlfXqbomh2eBEN/m4Mkg4Ns1q2X0G9jZnXzfbjQIH/IarCQZjBaCE+GnjtmaWWQXe/w7epdt24HbjnejP27y2ND+9vGaXNiV4XuZj50sXCnVTOCkoYiwUhLQTLcA2SrPtUSmS8GC6S7QwYU1xPpbk9E6XaBdN9ezywQfh5fXnMOylGX0y/HBSkNiyJxJyg5E5S8BSi585RYfLmcXPFH0V4unJ2ZdcfiEH3g7IhPn7P0hUpVNUWc5hiImLIPB8CqK1++iQKfNnFL/N6kSbgA2ya6mrwcs3Un0LoLoPU+ANrvTObZ0ky9f8YUu+3VU9fN9n7v3P8B&amp;lt;/diagram&amp;gt;&amp;lt;/mxfile&amp;gt;&amp;quot;}"</span><span class=nt>&gt;&lt;/div&gt;</span>
<span class=nt>&lt;script </span><span class=na>type=</span><span class=s>"text/javascript"</span> <span class=na>src=</span><span class=s>"https://www.draw.io/js/viewer.min.js"</span><span class=nt>&gt;&lt;/script&gt;</span></code></pre></figure><div class=mxgraph style="max-width:100%;border:1px solid transparent;" data-mxgraph="{&quot;highlight&quot;:&quot;#0000ff&quot;,&quot;nav&quot;:true,&quot;resize&quot;:true,&quot;toolbar&quot;:&quot;zoom layers lightbox&quot;,&quot;edit&quot;:&quot;_blank&quot;,&quot;xml&quot;:&quot;&lt;mxfile userAgent=\&quot;Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/62.0.3202.89 Chrome/62.0.3202.89 Safari/537.36\&quot; version=\&quot;8.4.7\&quot; editor=\&quot;www.draw.io\&quot;&gt;&lt;diagram id=\&quot;787718bf-61a2-830c-1549-43c902e07263\&quot; name=\&quot;Page-1\&quot;&gt;zZbbjpswEIafhttVMJsELpvsoRettFKqdnu1cmAWrBqMjAmkT98hNmd2SSXUbqQQ+/fYHj7PTGw5+7h8lDSNvooAuEVWQWk5dxYhtu1u8KdSzlrZbG0thJIFxqgVDuw3GHFl1JwFkPUMlRBcsbQv+iJJwFc9jUopir7Zq+D9XVMawkg4+JSP1R8sUJFWXbJt9c/Awqje2d54euRI/V+hFHli9rOI83r56OGY1muZF80iGoiiIzn3lrOXQijdiss98IptjU3Pe3hjtPFbQqKumUD0hBPlOdQeX/xS55rF5W2gsl9Zzq6ImIJDSv1qtMDTRy1SMceejU1Oj8B3DYS94ELiUCIStN+NvTMOn0AqKDuS8fYRRAxKntHEjHoGnAksu+4X7THZNdyoc0Qbo1ETGWGzcksHGwbQNCznb2DZHwDW+vY/0lrP0/JzeWpgQRJ8qlIXuz6nWcb8Pi3EIM/PJgwvnZ9V52ZddUumnms7bLcjb1LMRC596GWBojIE1TtrCHqFYky6Q3I9AbLWJHCq2KlfXqbomh2eBEN/m4Mkg4Ns1q2X0G9jZnXzfbjQIH/IarCQZjBaCE+GnjtmaWWQXe/w7epdt24HbjnejP27y2ND+9vGaXNiV4XuZj50sXCnVTOCkoYiwUhLQTLcA2SrPtUSmS8GC6S7QwYU1xPpbk9E6XaBdN9ezywQfh5fXnMOylGX0y/HBSkNiyJxJyg5E5S8BSi585RYfLmcXPFH0V4unJ2ZdcfiEH3g7IhPn7P0hUpVNUWc5hiImLIPB8CqK1++iQKfNnFL/N6kSbgA2ya6mrwcs3Un0LoLoPU+ANrvTObZ0ky9f8YUu+3VU9fN9n7v3P8B&lt;/diagram&gt;&lt;/mxfile&gt;&quot;}"></div><script src=https://www.draw.io/js/viewer.min.js></script><p>see File - Embed- HTML<h1 id=demo-tags>demo: tags</h1><p>see _category:<figure class=highlight><pre><code class=language-txt data-lang=txt>layout: category
title:  "..."
date:   2018-01-08 11:56:39 +0300
root: "../"
category: ...
permalink: /category/.../</code></pre></figure><p>run <code class=highlighter-rouge>npm run start</code>, see <code class=highlighter-rouge>category/</code><p>example:<figure class=highlight><pre><code class=language-txt data-lang=txt>categories: [docs, microservice, pcloud_licensor]</code></pre></figure><h1 id=editors>Editors</h1><p><a href=https://github.com/ashmaroli/jekyll-manager>https://github.com/ashmaroli/jekyll-manager</a> <code class=highlighter-rouge>bundle exec jekyll serve --watch</code> <a href=http://localhost:4000/admin>http://localhost:4000/admin</a><p><code class=highlighter-rouge>gulp admin</code> <a href=http://localhost:3000>http://localhost:3000</a> <a href=http://127.0.0.1:4096/admin>http://127.0.0.1:4096/admin</a> clear browser cache (ctrl+shift+r).<p>check logs <code class=highlighter-rouge>bundle exec jekyll serve --watch</code><h1 id=typo-correction>typo correction</h1><p><code class=highlighter-rouge>sudo apt-get install aspell aspell-ru aspell-en -y</code><p>see <a href=http://aspell.net/win32/ >http://aspell.net/win32/</a><ol><li>Font “lucida console”<li><p>coding “chcp 1252”<li>Examples.</ol><figure class=highlight><pre><code class=language-bah data-lang=bah>cat _docs/bridge.md | aspell --lang=hu list --home-dir=. --data-dir=. --dict-dir=. --personal=dictionary_ru.txt --encoding=utf-8 | sort -u</code></pre></figure><figure class=highlight><pre><code class=language-bah data-lang=bah>aspell --lang=hu --home-dir=. --data-dir=. --dict-dir=. --personal=dictionary_ru.txt --encoding=utf-8 --mode=html --add-html-skip=nospell --add-sgml-skip=nospell --mode=html -x -c  _docs/bridge.md</code></pre></figure><figure class=highlight><pre><code class=language-bah data-lang=bah>find . _docs -maxdepth 1 -name "**.md" -exec aspell --lang=hu --home-dir=. --data-dir=. --dict-dir=. --personal=dictionary_ru.txt --encoding=utf-8 --mode=html --add-html-skip=nospell --add-sgml-skip=nospell --mode=html -x -c  {} \;</code></pre></figure><p>Hotkeys:<ul><li>a - add word<li>r - fix typo<li>x - exit<li>i - skip</ul><p>see:<ul><li><a href=https://unix.stackexchange.com/a/341715>https://unix.stackexchange.com/a/341715</a><li><a href=https://opensource.com/article/18/2/how-check-spelling-linux-command-line-aspell>https://opensource.com/article/18/2/how-check-spelling-linux-command-line-aspell</a></ul><ol><li>Demo: nospell</ol><figure class=highlight><pre><code class=language-txt data-lang=txt>&lt;nospell&gt;...&lt;/nospell&gt;</code></pre></figure><figure class=highlight><pre><code class=language-txt data-lang=txt>&lt;nospell&gt;
`gem uninstall jekyll`
`gem install jekyll -v 3.7.2`
&lt;/nospell&gt;</code></pre></figure><p><strong>Demo: .hint</strong><figure class=highlight><pre><code class=language-txt data-lang=txt>{{ site.data.global.dpss.hint }}</code></pre></figure><p><strong>Demo: filtered</strong><figure class=highlight><pre><code class=language-txt data-lang=txt>{% assign filtered = site.data.global.pages | where: "id", "about" %}
{{ filtered[0].text }}</code></pre></figure><ul><li>Demo: print vars:</ul><figure class=highlight><pre><code class=language-txt data-lang=txt>{{ site.data.global.dpss | inspect }}</code></pre></figure><p>nil<h1 id=setup-1>Setup</h1><p>1 <a href=http://yeoman.io/codelab/index.html>http://yeoman.io/codelab/index.html</a> <code class=highlighter-rouge>npm install -g yo</code><p>2 <a href=https://github.com/nirgn975/generator-jekyll-starter-kit>https://github.com/nirgn975/generator-jekyll-starter-kit</a> <code class=highlighter-rouge>npm install -g generator-jekyll-starter-kit</code><p>3 <code class=highlighter-rouge>yo jekyll-starter-kit</code><ul><li>Error: EACCES: permission denied - <a href=https://github.com/yeoman/yeoman/issues/1097>https://github.com/yeoman/yeoman/issues/1097</a> <code class=highlighter-rouge>sudo chown $USER:$USER /home/$USER/.config/configstore/ -R</code></ul><p>4 <a href=https://github.com/yihangho/emoji-for-jekyll>https://github.com/yihangho/emoji-for-jekyll</a><p>5 <a href=https://medium.com/@nirgn/jekyll-starter-kit-generator-2-1-0-is-out-5e2efd2311d9>https://medium.com/@nirgn/jekyll-starter-kit-generator-2-1-0-is-out-5e2efd2311d9</a> <a href=https://programminghistorian.org/lessons/building-static-sites-with-jekyll-github-pages>https://programminghistorian.org/lessons/building-static-sites-with-jekyll-github-pages</a> <a href=https://learn.cloudcannon.com/ >https://learn.cloudcannon.com/</a> <a href=http://anandmanisankar.com/posts/jekyll-starter-scaffold-blog-yeoman/ >http://anandmanisankar.com/posts/jekyll-starter-scaffold-blog-yeoman/</a> <a href=http://anandmanisankar.com/jekyllstarter/ >http://anandmanisankar.com/jekyllstarter/</a> <a href=https://habrahabr.ru/post/336266/ >https://habrahabr.ru/post/336266/</a> <a href=https://github.com/planetjekyll/awesome-jekyll>https://github.com/planetjekyll/awesome-jekyll</a> <a href=https://ben.balter.com/2015/02/20/jekyll-collections/ >https://ben.balter.com/2015/02/20/jekyll-collections/</a> <a href=https://mademistakes.com/articles/using-jekyll-2017/ >https://mademistakes.com/articles/using-jekyll-2017/</a> <a href=https://novelist.xyz/tech/performant-jekyll-site-with-gulp-cloudflare/ >https://novelist.xyz/tech/performant-jekyll-site-with-gulp-cloudflare/</a><p>6 <a href=http://osfameron.github.io/jekyll-plugins-tutorial/ >http://osfameron.github.io/jekyll-plugins-tutorial/</a> <a href=https://maxchadwick.xyz/blog/building-a-custom-jekyll-command-plugin>https://maxchadwick.xyz/blog/building-a-custom-jekyll-command-plugin</a><p><code class=highlighter-rouge>bundle install</code> <code class=highlighter-rouge>gem build YOUR_PLUGIN.gemspec</code></article></div></div></div><footer class=site-footer><div class=wrapper><h2 class=footer-heading></h2><div class=footer-col-wrapper><div class="footer-col footer-col-1"></div><div class="footer-col footer-col-2"><ul class=social-media-list><li><a href=https://github.com/jekyll><span class="icon icon--github"><svg viewBox="0 0 16 16"><path fill=#828282 d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"/></svg> </span><span class=username>jekyll</span></a><li><a href=https://twitter.com/jekyllrb><span class="icon icon--twitter"><svg viewBox="0 0 16 16"><path fill=#828282 d="M15.969,3.058c-0.586,0.26-1.217,0.436-1.878,0.515c0.675-0.405,1.194-1.045,1.438-1.809
                  c-0.632,0.375-1.332,0.647-2.076,0.793c-0.596-0.636-1.446-1.033-2.387-1.033c-1.806,0-3.27,1.464-3.27,3.27 c0,0.256,0.029,0.506,0.085,0.745C5.163,5.404,2.753,4.102,1.14,2.124C0.859,2.607,0.698,3.168,0.698,3.767 c0,1.134,0.577,2.135,1.455,2.722C1.616,6.472,1.112,6.325,0.671,6.08c0,0.014,0,0.027,0,0.041c0,1.584,1.127,2.906,2.623,3.206 C3.02,9.402,2.731,9.442,2.433,9.442c-0.211,0-0.416-0.021-0.615-0.059c0.416,1.299,1.624,2.245,3.055,2.271 c-1.119,0.877-2.529,1.4-4.061,1.4c-0.264,0-0.524-0.015-0.78-0.046c1.447,0.928,3.166,1.469,5.013,1.469 c6.015,0,9.304-4.983,9.304-9.304c0-0.142-0.003-0.283-0.009-0.423C14.976,4.29,15.531,3.714,15.969,3.058z"/></svg> </span><span class=username>jekyllrb</span></a></ul></div><div class="footer-col footer-col-3"><p class=text>© 2019<p class=text>Last update: 09.05.2020 12:00:43<p class=text><a href=/jekyll_how_to/ >About this site</a></div></div></div></footer><script async src=/scripts/main.min.js></script><script>if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register("/sw.js").then(function() {
      console.log("Service Worker Registered");
    });
  }</script>